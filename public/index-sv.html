<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karlshamn Energi Training</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .slide {
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-bottom: 20px;
        }
        h1, h2 {
            color: #2c3e50;
        }
        .progress-bar {
            background-color: #e0e0e0;
            height: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .progress {
            background-color: #27ae60;
            height: 100%;
            border-radius: 5px;
            transition: width 0.3s ease;
        }
        .button-container {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }
        button {
            background-color: #27ae60;
            border: none;
            color: white;
            padding: 10px 100px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #2ecc71;
        }
        .option-button {
            margin: 0 10px;
        }
        .feedback {
            font-weight: bold;
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
        }
        .correct {
            background-color: #d4edda;
            color: #155724;
        }
        .incorrect {
            background-color: #f8d7da;
            color: #721c24;
        }
        .logo {
    max-width: 100%;
    max-height: 400px; /* Set a maximum height */
    width: auto;
    height: auto;
    margin-bottom: 20px;
    display: block;
    margin-left: auto;
    margin-right: auto;
}
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
        }
        .form-group input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .info-slide {
            background-color: #e8f4f8;
            border-left: 5px solid #27ae60;
            padding: 15px;
            margin-bottom: 20px;
        }
        .options-container {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            margin-bottom: 20px;
        }
        .checkbox-group {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
      <h1><center>Karlshamn Energi Training</center></h1>
        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>
        <div id="slideContainer"></div>
    </div>

    <script>
        const slides = [
            {
                type: 'introduction',
                content: `
                    <img src="https://im16.inviewer.se/skiss/99/99KEOU1WQI.jpg" alt="Karlshamn Energi Logo" class="logo">
                    <h2><center>Välkommen till Karlshamn Energi</center></h2>
                    <p>För att få tillgång till Karlshamn Energis anläggningar behöver en kort utbildning göras. När du har fullföljt utbildningen med ett godkänt resultat kommer du att tilldelas en tagg</p>
                `
            },
            {
                type: 'info',
                content: `
                    <h2><center>Allmän Säkerhet</center></h2>
                    <div class="info-slide">
                    <p><centerVälkommen till Karlshamn Energi. Det är viktigt för oss att säkerhet kring våra verksamheter hålls högt. Vi är en samhällsviktig verksamhet och med det kommer ett stort ansvar. Det ansvaret gäller även för er som anlitas i någon form av oss. De ordnings- och säkerhetsregler som presenteras i den här utbildningen är bara en kortfattad sammanställning av det regelverk vi omfattas av.</center></p>
                    </div>
                `
            },
            {
                type: 'info',
                content: `
                    <img src="https://cdn.pixabay.com/photo/2018/04/24/22/33/key-3348307_960_720.jpg" alt="Karlshamn Energi Logo" class="logo">
                    <h2><center>Allmän Säkerhet</center></h2>
                    <div class="info-slide">
                        <p><center>När du har tillträde till KEAB's fastighet/anläggningar ska du säkerställa att du inte släpper in någon obehörig i samband med att du själv kör/går in till eller i anläggningen/området. Du tillåts endast släppa in någon annan som du har personkännedom om och med säkerhet vet att personen arbetar på Karlshamn Energi.</center></p>
                    </div>
                `
            },
            {
                type: 'info',
                content: `
                    <img src="https://cdn.pixabay.com/photo/2019/10/06/11/40/lock-4529981_1280.png" alt="Karlshamn Energi Logo" class="logo"> 
                    <h2><center>Allmän Säkerhet</center></h2>
                    <div class="info-slide">
                        <p><center>Grindar/bommar, portar och ytterdörrar ska hållas stängda och låsta. Öppen/olåst bom, port och dörr ska hållas under kontinuerlig bevakning.</center></p>
                    </div>
                `
            },
            {
                type: 'info',
                content: `
                    <h2><center>Allmän Säkerhet</center></h2>
                    <div class="info-slide">
                        <p><center>Den tagg/nyckel du får i samband med ditt arbete på Karlshamn Energi´s anläggningar/områden hanteras med ett personligt ansvar. Det innebär att de används på rätt sätt av rätt person. De nycklar som lånats ut för tillfälliga arbeten ska återlämnas efter avslutat arbete.</center></p>
                    </div>
                `
            },
            {
                type: 'info',
                content: `
                    <img src="https://cdn.pixabay.com/photo/2019/04/26/16/30/id-4157974_1280.jpg" alt="Karlshamn Energi Logo" class="logo">
                    <h2><center>Allmän Säkerhet</center></h2>
                    <div class="info-slide">
                        <p><center>Som entreprenör eller på annat sätt anlitad person ska ni alltid kunna legitimera er. Identitetshandling ska bäras synligt om det inte uppenbart är olämpligt för arbetsuppgiften. Arbetskläder ska ha synligt företagsnamn/logotype. För arbeten som entreprenörer utför inom Karlshamn Energi gäller varselklädd överkropp samt skyddsskor som minsta krav.</center></p>
                    </div>
                `
            },
            {
                type: 'info',
                content: `
                    <img src="https://cdn.pixabay.com/photo/2018/02/25/14/09/consultants-3180641_1280.jpg" alt="Karlshamn Energi Logo" class="logo"> 
                    <h2><center>Allmän Säkerhet</center></h2>
                    <div class="info-slide">
                        <p><center>Har ni som entreprenör anlitat sido/underentreprenör ska ni se till att dessa får ta del av samma säkerhetsinformation som ni själva fått.</center></p>
                    </div>
                `
            },
            {
                type: 'question',
                content: `
                    <h2><center>Fråga 1</center></h2>
                    <p><center>Tillåts du släppa in personer du känner på anläggningen?</center></p>
                `,
                options: ['Ja', 'Nej'],
                correctAnswer: 'Ja',
                explanation: 'Du får släppa in personer du känner som har tillåtelse att vara på området & anställda du känner igen från Karlshamn Energi.'
            },
            {
                type: 'info',
                content: `
                    <center><img src="https://im16.inviewer.se/skiss/18/18ME1R0HNF.jpg" alt="Karlshamn Energi Logo" class="logo"></center>
                    <h2><center>Information Security</center></h2>
                    <div class="info-slide">
                        <p><center>Den information om Karlshamn Energi:s verksamheter du får tillgång till i samband med ditt uppdrag på företaget är konfidentiell information oavsett om den är muntlig eller skriftlig.</center></p>
                    </div>
                `
            },
            {
                type: 'info',
                content: `
                    <img src="https://cdn.pixabay.com/photo/2017/04/07/16/12/do-not-take-photos-2211280_1280.png" alt="Karlshamn Energi Logo" class="logo">
                    <h2><center>Informationssäkerhet</center></h2>
                    <div class="info-slide">
                        <p><center>Det är inte tillåtet att fotografera och all information du får i kontakt med representanter för Karlshamn Energi får aldrig missbrukas eller lämnas vidare.</center></p>
                    </div>
                `
            },
            {
                type: 'info',
                content: `
                    <center><img src="https://im16.inviewer.se/skiss/94/94MEWRNHXY.jpg" alt="Karlshamn Energi Logo" class="logo"></center>
                    <h2><center>Information Security</center></h2>
                    <div class="info-slide">
                        <p><center>Incidentrapportera till Karlshamn Energi om du ser något konstigt i ditt uppdrag, exempelvis att någon olovligen tar sig in, att någon följer efter när du åker in genom grindar till Karlshamn Energi's område eller om du blivit av med information som tillhör Karlshamn Energi t.ex kartor, ritningar, dokument eller digitala enheter som innehåller information om KEAB. Incidentrapporterar gör du via din arbetsledare eller direkt till din beställare/kontaktperson på Karlshamn Energi.</center></p>
                    </div>
                `
            },
            {
                type: 'question',
                content: `
                    <h2><center>Fråga 2</center></h2>
                    <p><center>Det är tillåtet att fotografera inne på Karlshamn Energis anläggningar.</center></p>
                `,
                options: ['Ja', 'Nej'],
                correctAnswer: 'Nej',
                explanation: 'Det är inte tillåtet att fotografera på Karlshamn Energi's anläggningar.'
            },
            {
                type: 'question',
                content: `
                    <h2><center>Question 3</center></h2>
                    <p><center>An incident has occurred, what do you do?</center></p>
                `,
                options: ['Call KEAB directly', 'Report the incident through your client'],
                correctAnswers: ['Call KEAB directly', 'Report the incident through your client'],
                explanation: 'Acute incidents that need to be reported directly are always made to KEAB. These should be followed up in writing. For non-acute incidents, a report is made either via an assigned link to a form or to the client.',
                multipleChoice: true
            },
            {
                type: 'info',
                content: `
                    <img src="https://im16.inviewer.se/skiss/99/99KEOU1WQI.jpg" alt="Karlshamn Energi Logo" class="logo">
                    <h2><center>Personal and Facility Security</center></h2>
                    <div class="info-slide">
                        <p><center>Anyone who is to work or stay independently at a facility must have good knowledge of the facility and their assignment. Who is the client/contact person at Karlshamn Energi. What the assignment entails. Which local environmental and safety rules apply. What personal protective equipment is required for the assignment. Have the correct driving permit for the vehicles to be used within Karlshamn Energi's area. What risks the assignment entails. What risks exist at the facility/area.</center></p>
                    </div>
                `
            },
            {
                type: 'info',
                content: `
                    <img src="https://cdn.pixabay.com/photo/2012/04/18/19/01/check-37583_1280.png" alt="Karlshamn Energi Logo" class="logo">
                    <h2><center>Personal and Facility Security</center></h2>
                    <div class="info-slide">
                        <p><center>To be allowed to perform independent work, you must have completed safety training and have approval from the client. Otherwise, escort by personnel from Karlshamn Energi is required.</center></p>
                    </div>
                `
            },
            {
                type: 'info',
                content: `
                    <img src="https://cdn.pixabay.com/photo/2015/10/30/10/46/clean-1013734_1280.jpg" alt="Karlshamn Energi Logo" class="logo">
                    <h2><center>Personal and Facility Security</center></h2>
                    <div class="info-slide">
                        <p><center>After completed work, the workplace must be cleaned and restored, waste and chemicals must be disposed of, and any borrowed equipment must be returned. The contractor shall, in good time, provide the client/BAS P with information about which chemical products are used within the current contract/operation. Setting up of site huts and similar must be pre-notified and approved.</center></p>
                    </div>
                `
            },
            {
                type: 'info',
                content: `
                    <img src="https://cdn.pixabay.com/photo/2018/03/10/19/29/sign-3215036_1280.png" alt="Karlshamn Energi Logo" class="logo">
                    <h2><center>Personal and Facility Security</center></h2>
                    <div class="info-slide">
                        <p><center>Alcohol and drugs are not allowed in the workplace. Intoxicated persons must be immediately removed from the workplace. The respective employer is responsible for ensuring their safe return home.</center>.</p>
                    </div>
                `
            },
                      {
                type: 'info',
                content: `
                    <img src="https://im16.inviewer.se/skiss/38/38METR8HEY.jpg" alt="Karlshamn Energi Logo" class="logo">
                    <h2><center>Personal and Facility Security</center></h2>
                    <div class="info-slide">
                        <p><center>Smoking is not allowed in the company's premises or outdoor areas inside the gates. A place for smoking is available outside the company's area, adjacent to our assembly point at Prinsgatan 45. This applies to staff, contractors, and visitors alike. For other facilities/work areas, smoking may only take place at the designated location.</center></p>
                    </div>
                `
            },
            {
                type: 'question',
                content: `
                    <h2><center>Approval</center></h2>
                    <p>Which of the following are allowed in the facility? (Select all that apply)</p>
                `,
                options: ['I have read & taken part in the information in the training.', 'I accept the requirements placed on me & will ensure that these are followed.'],
                correctAnswers: ['I have read & taken part in the information in the training.', 'I accept the requirements placed on me & will ensure that these are followed.'],
                explanation: 'Thank you for your participation.',
                multipleChoice: true
            },
            {
                type: 'conclusion',
                content: `
                    <h2><center>Training Complete</center></h2>
                    <p>Thank you for completing the Karlshamn Energi security training. Your commitment to maintaining our high security standards is appreciated.</p>
                    <p>Please fill out the form below to receive your completion certificate:</p>
                    <form id="completionForm">
                        <div class="form-group">
                            <label for="firstName">First Name:</label>
                            <input type="text" id="firstName" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name:</label>
                            <input type="text" id="lastName" required>
                        </div>
                        <div class="form-group">
                            <label for="company">Company:</label>
                            <input type="text" id="company" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email:</label>
                            <input type="email" id="email" required>
                        </div>
                    </form>
                `
            }
        ];

        let currentSlide = 0;
        const slideContainer = document.getElementById('slideContainer');
        const progressBar = document.getElementById('progress');

        function resizeImages() {
    const images = document.querySelectorAll('.logo');
    images.forEach(img => {
        img.onload = function() {
            if (this.naturalHeight > 400) {
                const aspectRatio = this.naturalWidth / this.naturalHeight;
                this.style.height = '400px';
                this.style.width = `${400 * aspectRatio}px`;
            }
        }
    });
}

function renderSlide() {
    const slide = slides[currentSlide];
    let slideContent = `<div class="slide">`;
    slideContent += slide.content;

    if (slide.type === 'question') {
        if (slide.multipleChoice) {
            slideContent += `<div class="options-container">`;
            slide.options.forEach(option => {
                slideContent += `
                    <div class="checkbox-group">
                        <input type="checkbox" id="${option}" name="answer" value="${option}">
                        <label for="${option}">${option}</label>
                    </div>`;
            });
            slideContent += `</div>`;
            slideContent += `<div class="button-container"><button onclick="checkMultipleAnswers()">Submit</button></div>`;
        } else {
            slideContent += `<div class="button-container">`;
            slide.options.forEach(option => {
                slideContent += `<button class="option-button" onclick="checkAnswer('${option}')">${option}</button>`;
            });
            slideContent += `</div>`;
        }
        slideContent += `<div id="feedback" class="feedback"></div>`;
    } else if (slide.type === 'conclusion') {
        slideContent += `<div class="button-container"><button onclick="submitForm()">Send</button></div>`;
    } else if (slide.type === 'introduction') {
        slideContent += `<div class="button-container"><button onclick="nextSlide()">Start training</button></div>`;
    } else {
        slideContent += `<div class="button-container"><button onclick="nextSlide()">Next</button></div>`;
    }

    slideContent += `</div>`;
    slideContainer.innerHTML = slideContent;
    resizeImages(); // Call the new function here
    updateProgress();
}

        function checkAnswer(answer) {
            const slide = slides[currentSlide];
            const feedbackElement = document.getElementById('feedback');
            if (answer === slide.correctAnswer) {
                feedbackElement.textContent = `Correct! ${slide.explanation}`;
                feedbackElement.className = 'feedback correct';
                feedbackElement.innerHTML += `<div class="button-container"><button onclick="nextSlide()">Next</button></div>`;
        } else {
                feedbackElement.textContent = `Incorrect. ${slide.explanation} Please try again.`;
                feedbackElement.className = 'feedback incorrect';
            }
        }

        function checkMultipleAnswers() {
            const slide = slides[currentSlide];
            const selectedAnswers = Array.from(document.querySelectorAll('input[name="answer"]:checked')).map(input => input.value);
            const feedbackElement = document.getElementById('feedback');
    
            const isCorrect = selectedAnswers.length === slide.correctAnswers.length &&
                      selectedAnswers.every(answer => slide.correctAnswers.includes(answer));

            if (isCorrect) {
                feedbackElement.textContent = `Correct! ${slide.explanation}`;
                feedbackElement.className = 'feedback correct';
                feedbackElement.innerHTML += `<div class="button-container"><button onclick="nextSlide()">Next</button></div>`;
            } else {
                feedbackElement.textContent = `Incorrect. ${slide.explanation} Please try again.`;
                feedbackElement.className = 'feedback incorrect';
            }
        }

        function nextSlide() {
            currentSlide++;
            if (currentSlide < slides.length) {
                renderSlide();
            } else {
                slideContainer.innerHTML = `
                    <div class="slide">
                        <center>
                            <h2>All Done!</h2>
                            <p>You have completed the training.</p>
                        </center>
                    </div>`;
                updateProgress();
            }
        }

        function updateProgress() {
            const progress = ((currentSlide + 1) / slides.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        function submitForm() {
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const company = document.getElementById('company').value;
            const email = document.getElementById('email').value;

            if (firstName && lastName && company && email) {
                // In a real application, you would send this data to a server
                // Here, we'll just simulate sending an email
                alert(`Thank you, ${firstName} ${lastName}! An email notification has been sent to andreas.bergholtz@karlshamnenergi.se`);
                
                // In a real scenario, you would make an AJAX call to your server here
                // The server would then send the email
                console.log(`Email sent to andreas.bergholtz@karlshamnenergi.se: ${firstName} ${lastName} (${email}) has completed the training.`);
            } else {
                alert('Please fill out all fields before submitting.');
            }
        }

        renderSlide();
    </script>
</body>
</html>
